<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Dashboard Profissional de An√°lise de Chamados - TechHelp Solutions">
    <meta name="author" content="TechHelp Solutions">
    <title>TechHelp Dashboard v2.0 | Analytics & Insights</title>
    
    <!-- Favicon SVG Profissional -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 36 36'><rect width='36' height='36' rx='8' fill='%233b82f6'/><path d='M9 13L13 9L18 14L23 9L27 13' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'/><path d='M9 20L13 16L18 21L23 16L27 20' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' opacity='0.7'/><path d='M9 27L13 23L18 28L23 23L27 27' stroke='white' stroke-width='2' stroke-linecap='round' stroke-linejoin='round' opacity='0.4'/></svg>">
    
    <!-- Chart.js v4 -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <!-- CSS Moderno -->
    <link rel="stylesheet" href="css/dashboard-v2.css">
</head>
<body>
    <!-- ========== HEADER ========== -->
    <header class="dashboard-header">
        <div class="container">
            <div class="header-content">
                <div class="header-title">
                    <!-- Logo SVG Profissional -->
                    <svg class="header-logo" width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <rect width="36" height="36" rx="8" fill="url(#gradient1)"/>
                        <path d="M9 13L13 9L18 14L23 9L27 13" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M9 20L13 16L18 21L23 16L27 20" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" opacity="0.7"/>
                        <path d="M9 27L13 23L18 28L23 23L27 27" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" opacity="0.4"/>
                        <defs>
                            <linearGradient id="gradient1" x1="0" y1="0" x2="36" y2="36" gradientUnits="userSpaceOnUse">
                                <stop stop-color="#60a5fa"/>
                                <stop offset="1" stop-color="#3b82f6"/>
                            </linearGradient>
                        </defs>
                    </svg>
                    <div class="header-text">
                        <h1>TechHelp Dashboard</h1>
                        <p class="header-subtitle">Analytics & Performance Insights</p>
                    </div>
                </div>
                
                <div class="header-actions">
                    <div class="last-update">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <polyline points="12 6 12 12 16 14"/>
                        </svg>
                        <span id="last-update-text">Carregando...</span>
                    </div>
                    <button id="btn-refresh" class="btn-refresh">
                        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <polyline points="23 4 23 10 17 10"/>
                            <polyline points="1 20 1 14 7 14"/>
                            <path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/>
                        </svg>
                        <span>Atualizar</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- ========== MAIN CONTENT ========== -->
    <main class="main-content">
        <div class="container">
            
            <!-- Alert de Erro (escondido por padr√£o) -->
            <div id="error-alert" class="error-message" style="display: none;">
                <span class="error-icon">‚ö†Ô∏è</span>
                <span id="error-text"></span>
            </div>

            <!-- ===== SE√á√ÉO: KPIs PRINCIPAIS ===== -->
            <section class="section-kpis">
                <div class="section-header">
                    <h2 class="section-title">Indicadores Principais</h2>
                    <p class="section-subtitle">M√©tricas essenciais do desempenho operacional</p>
                </div>

                <div class="metrics-grid">
                    <!-- KPI: Total de Chamados -->
                    <div class="kpi-card fade-in" style="animation-delay: 0.1s">
                        <div class="kpi-header">
                            <div class="kpi-icon primary">üìã</div>
                            <div class="kpi-trend up" id="trend-total">
                                <span>‚Üó</span>
                                <span>+12%</span>
                            </div>
                        </div>
                        <div class="kpi-body">
                            <div class="kpi-label">Total de Chamados</div>
                            <div class="kpi-value" id="kpi-total">-</div>
                        </div>
                        <div class="kpi-footer">
                            <span class="kpi-comparison">
                                <strong id="total-mes-atual">0</strong> neste m√™s
                            </span>
                        </div>
                    </div>

                    <!-- KPI: Chamados Abertos -->
                    <div class="kpi-card fade-in" style="animation-delay: 0.2s">
                        <div class="kpi-header">
                            <div class="kpi-icon warning">‚è≥</div>
                            <div class="kpi-trend up" id="trend-abertos">
                                <span>‚Üó</span>
                                <span>+8%</span>
                            </div>
                        </div>
                        <div class="kpi-body">
                            <div class="kpi-label">Chamados Abertos</div>
                            <div class="kpi-value" id="kpi-abertos">-</div>
                        </div>
                        <div class="kpi-footer">
                            <span class="kpi-comparison">
                                Pendentes + Em Andamento
                            </span>
                        </div>
                    </div>

                    <!-- KPI: Chamados Fechados -->
                    <div class="kpi-card fade-in" style="animation-delay: 0.3s">
                        <div class="kpi-header">
                            <div class="kpi-icon success">‚úÖ</div>
                            <div class="kpi-trend up" id="trend-fechados">
                                <span>‚Üó</span>
                                <span>+15%</span>
                            </div>
                        </div>
                        <div class="kpi-body">
                            <div class="kpi-label">Chamados Fechados</div>
                            <div class="kpi-value" id="kpi-fechados">-</div>
                        </div>
                        <div class="kpi-footer">
                            <span class="kpi-comparison">
                                Resolvidos + Fechados
                            </span>
                        </div>
                    </div>

                    <!-- KPI: Tempo M√©dio de Resolu√ß√£o -->
                    <div class="kpi-card fade-in" style="animation-delay: 0.4s">
                        <div class="kpi-header">
                            <div class="kpi-icon info">‚è±Ô∏è</div>
                            <div class="kpi-trend down" id="trend-tma">
                                <span>‚Üò</span>
                                <span>-5%</span>
                            </div>
                        </div>
                        <div class="kpi-body">
                            <div class="kpi-label">Tempo M√©dio de Resolu√ß√£o</div>
                            <div class="kpi-value" id="kpi-tma">-</div>
                            <span class="kpi-unit">horas</span>
                        </div>
                        <div class="kpi-footer">
                            <span class="kpi-comparison">
                                Meta: <strong>‚â§ 24h</strong>
                            </span>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ===== SE√á√ÉO: GR√ÅFICOS DE DISTRIBUI√á√ÉO ===== -->
            <section class="section-charts">
                <div class="section-header">
                    <h2 class="section-title">Distribui√ß√£o e An√°lise</h2>
                    <p class="section-subtitle">Visualiza√ß√£o detalhada dos dados</p>
                </div>

                <div class="charts-grid">
                    <!-- Gr√°fico: Chamados por T√©cnico -->
                    <div class="chart-card fade-in" style="animation-delay: 0.5s">
                        <div class="chart-header">
                            <h3 class="chart-title">üë• Chamados por T√©cnico</h3>
                            <div class="chart-actions">
                                <select class="chart-filter" id="filter-tecnico-period">
                                    <option value="all">Todos os per√≠odos</option>
                                    <option value="month">√öltimo m√™s</option>
                                    <option value="week">√öltima semana</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-tecnico" class="chart-canvas"></canvas>
                        </div>
                        <div class="insights-panel">
                            <div class="insight-item">
                                <span class="insight-icon">üí°</span>
                                <div class="insight-text" id="insight-tecnico">
                                    Carregando insights...
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Gr√°fico: Categorias Mais Recorrentes -->
                    <div class="chart-card fade-in" style="animation-delay: 0.6s">
                        <div class="chart-header">
                            <h3 class="chart-title">üéØ Categorias Mais Recorrentes</h3>
                            <div class="chart-actions">
                                <select class="chart-filter" id="filter-categoria-type">
                                    <option value="doughnut">Donut</option>
                                    <option value="bar">Barras</option>
                                </select>
                            </div>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-categoria" class="chart-canvas"></canvas>
                        </div>
                        <div class="insights-panel">
                            <div class="insight-item">
                                <span class="insight-icon">üí°</span>
                                <div class="insight-text" id="insight-categoria">
                                    Carregando insights...
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ===== SE√á√ÉO: STATUS E TEND√äNCIAS ===== -->
            <section class="section-status">
                <div class="section-header">
                    <h2 class="section-title">Status e Tend√™ncias</h2>
                    <p class="section-subtitle">Evolu√ß√£o temporal dos chamados</p>
                </div>

                <div class="charts-grid">
                    <!-- Gr√°fico: Status dos Chamados -->
                    <div class="chart-card fade-in" style="animation-delay: 0.7s">
                        <div class="chart-header">
                            <h3 class="chart-title">üìä Distribui√ß√£o por Status</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-status" class="chart-canvas"></canvas>
                        </div>
                        <div class="insights-panel">
                            <div class="insight-item">
                                <span class="insight-icon">üí°</span>
                                <div class="insight-text" id="insight-status">
                                    Carregando insights...
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Gr√°fico: Satisfa√ß√£o do Cliente -->
                    <div class="chart-card fade-in" style="animation-delay: 0.8s">
                        <div class="chart-header">
                            <h3 class="chart-title">‚≠ê Satisfa√ß√£o do Cliente</h3>
                        </div>
                        <div class="chart-container">
                            <canvas id="chart-satisfacao" class="chart-canvas"></canvas>
                        </div>
                        <div class="insights-panel">
                            <div class="insight-item">
                                <span class="insight-icon">üí°</span>
                                <div class="insight-text" id="insight-satisfacao">
                                    Carregando insights...
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

        </div>
    </main>

    <!-- ========== LOADING OVERLAY ========== -->
    <div id="loading-overlay" style="
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(255, 255, 255, 0.95);
        display: none;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        backdrop-filter: blur(10px);
    ">
        <div style="text-align: center;">
            <div style="
                width: 48px;
                height: 48px;
                border: 4px solid #e5e7eb;
                border-top-color: #3b82f6;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin: 0 auto 16px;
            "></div>
            <p style="color: #6b7280; font-weight: 500;">Carregando dados...</p>
        </div>
    </div>

    <style>
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>

    <!-- JavaScript do Dashboard -->
    <script src="js/dashboard-v2.js"></script>
</body>
</html>
